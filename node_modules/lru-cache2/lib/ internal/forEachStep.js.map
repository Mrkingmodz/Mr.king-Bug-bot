{"version":3,"file":"forEachStep.js","sourceRoot":"","sources":["forEachStep.ts"],"names":[],"mappings":";;;AAAA,uCAAoC;AACpC,+BAA4B;AAC5B,sCAAwC;AAIjC,MAAM,WAAW,GAAG,CAAO,IAAoB,EAAE,EAAa,EAAE,IAAiB,EAAE,KAAqB,EAAE,EAAE;IAElH,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAA;IACpB,IAAI,IAAA,iBAAO,EAAC,IAAI,EAAE,GAAG,CAAC,EACtB;QACC,IAAA,SAAG,EAAC,IAAI,EAAE,IAAI,CAAC,CAAA;QACf,IAAI,CAAC,IAAI,CAAC,oBAAW,CAAC,EACtB;YACC,GAAG,GAAG,SAAS,CAAA;SACf;KACD;IACD,IAAI,GAAG,EACP;QACC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;KACxC;AACF,CAAC,CAAA;AAfY,QAAA,WAAW,eAevB","sourcesContent":["import { isStale } from './isStale';\nimport { del } from './del';\nimport { ALLOW_STALE } from '../symbol';\nimport { LRUCache } from '../LRUCache';\nimport { INode, IFn } from '../types';\n\nexport const forEachStep = <K, V>(self: LRUCache<K, V>, fn: IFn<K, V>, node: INode<K, V>, thisp: LRUCache<K, V>) =>\n{\n\tlet hit = node.value\n\tif (isStale(self, hit))\n\t{\n\t\tdel(self, node)\n\t\tif (!self[ALLOW_STALE])\n\t\t{\n\t\t\thit = undefined\n\t\t}\n\t}\n\tif (hit)\n\t{\n\t\tfn.call(thisp, hit.value, hit.key, self)\n\t}\n}\n"]}