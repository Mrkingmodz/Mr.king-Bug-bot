{"version":3,"file":"_logArgv.js","sourceRoot":"","sources":["_logArgv.ts"],"names":[],"mappings":";;;;AACA,gCAA0D;AAC1D,+DAA0B;AAC1B,mCAAgC;AAChC,6CAA0C;AAC1C,iDAA8C;AAC9C,6DAA0D;AAE1D,SAAgB,aAAa,CAAgB,IAAW,EAAE,OAAe,OAAO,EAAE,QAAQ,GAAG,OAAO;;IAEnG,OAAO,CAAC,MAAA,IAAI,CAAC,QAAQ,mCAAI,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAA;AACpE,CAAC;AAHD,sCAGC;AAED,SAAgB,QAAQ,CAAiB,IAAW,EAAE,OAAe,KAAK,EAAE,QAAQ,GAAG,KAAK;;IAE3F,IAAI,CAAC,GAAG,CAAC,MAAA,IAAI,CAAC,UAAU,mCAAI,uBAAU,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC;IAC5D,IAAI,CAAC,GAAG,CAAC,MAAA,IAAI,CAAC,eAAS,CAAC,mCAAI,eAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAEtC,IAAI,GAAG,GAAG,EAAE,CAAC;IAEb,IAAI,IAAI,GAAG,MAAA,IAAI,CAAC,cAAQ,CAAC,mCAAI,EAAU,CAAC;IAExC,IAAI,IAAI,CAAC,IAAI,EACb;QACC,IAAI,GAAG,GAAG,CAAC,MAAA,IAAI,CAAC,KAAK,mCAAI,aAAK,CAAC,CAAC,IAAI,CAAC,IAAI,EAAC;YACzC,IAAI;YACJ,IAAI;YACJ,QAAQ;SACR,CAAC,CAAC;QAEH,IAAI,GAAG,IAAI,IAAI,EACf;YACC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACd;KACD;IAED,IAAI,IAAI,CAAC,KAAK,EACd;QACC,IAAI,GAAG,GAAG,IAAI,CAAC;QAEf,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAC3D;YACC,GAAG,GAAG,KAAK,CAAC;SACZ;QAED,IAAI,GAAG,EACP;YACC,IAAI,GAAG,GAAG,CAAC,MAAA,IAAI,CAAC,YAAY,mCAAI,2BAAY,CAAC,CAAC;gBAC7C,IAAI;gBACJ,IAAI;gBACJ,QAAQ;aACR,CAAC,CAAC;YAEH,IAAI,GAAG,IAAI,IAAI,EACf;gBACC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACd;SACD;KACD;IAED,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAEZ,IAAI,GAAG,CAAC,MAAM,KAAI,MAAA,IAAI,CAAC,MAAM,0CAAG,IAAI,CAAC,CAAA,EACrC;QACC,IAAI,CAAC,GAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAE/B,IAAI,OAAO,CAAC,KAAK,QAAQ,EACzB;YACC,CAAC,GAAG,eAAK,CAAC,CAAC,CAAC,CAAC;SACb;QAED,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACzB;IAED,IAAI,IAAA,iCAAe,GAAE,IAAI,OAAO,IAAI,IAAI,CAAC,YAAY,EACrD;QACC;;;;WAIG;QACH,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC;KAClD;IAED,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,iBAAW,CAAC,CAAC,EAChC;QACC,IAAI,GAAG,QAAQ,CAAC;KAChB;IAED,OAAO;QACN,IAAI;QACJ,GAAG;KACH,CAAA;AACF,CAAC;AAhFD,4BAgFC","sourcesContent":["import Console2 from '../node';\nimport { SYM_CHALK, SYM_CONSOLE, SYM_DATA } from '../val';\nimport chalk from 'chalk';\nimport { _time } from './_time';\nimport { _logFormat } from './_logFormat';\nimport { _labelFormat } from './_labelFormat';\nimport { processPlatform } from '../util/processPlatform';\n\nexport function _logErrorArgv(this: Console2,argv: any[], name: string = 'error', failBack = 'error')\n{\n\treturn (this._logArgv ?? _logArgv).call(this, argv, name, failBack)\n}\n\nexport function _logArgv(this: Console2, argv: any[], name: string = 'log', failBack = 'log')\n{\n\tlet s = (this._logFormat ?? _logFormat).call(this, ...argv);\n\tlet o = (this[SYM_CHALK] ?? chalk)(s);\n\n\tlet arr = [];\n\n\tlet data = this[SYM_DATA] ?? {} as null;\n\n\tif (data.time)\n\t{\n\t\tlet ret = (this._time ?? _time).call(this,{\n\t\t\tname,\n\t\t\targv,\n\t\t\tfailBack,\n\t\t});\n\n\t\tif (ret != null)\n\t\t{\n\t\t\tarr.push(ret);\n\t\t}\n\t}\n\n\tif (data.label)\n\t{\n\t\tlet _ok = true;\n\n\t\tif (Array.isArray(data.label) && !data.label.includes(name))\n\t\t{\n\t\t\t_ok = false;\n\t\t}\n\n\t\tif (_ok)\n\t\t{\n\t\t\tlet ret = (this._labelFormat ?? _labelFormat)({\n\t\t\t\tname,\n\t\t\t\targv,\n\t\t\t\tfailBack,\n\t\t\t});\n\n\t\t\tif (ret != null)\n\t\t\t{\n\t\t\t\tarr.push(ret);\n\t\t\t}\n\t\t}\n\t}\n\n\tarr.push(o);\n\n\tif (arr.length && data.colors?.[name])\n\t{\n\t\tlet c: any = data.colors[name];\n\n\t\tif (typeof c === 'string')\n\t\t{\n\t\t\tc = chalk[c];\n\t\t}\n\n\t\tarr = arr.map(v => c(v));\n\t}\n\n\tif (processPlatform() == 'win32' && this.enabledColor)\n\t{\n\t\t/**\n\t\t * @FIXME fix bug on windows when after bold\n\t\t *\n\t\t * https://github.com/chalk/chalk/issues/145#issuecomment-288985903\n\t\t */\n\t\tarr = arr.map(v => '\\u001B[0m' + v + '\\u001B[0m');\n\t}\n\n\tif (!(name in this[SYM_CONSOLE]))\n\t{\n\t\tname = failBack;\n\t}\n\n\treturn {\n\t\tname,\n\t\tarr,\n\t}\n}\n"]}