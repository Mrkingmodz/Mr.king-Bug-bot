{"version":3,"file":"form.js","sourceRoot":"","sources":["form.ts"],"names":[],"mappings":";;;;AACA,0CAAkD;AAClD,6FAAuD;AACvD,uCAAoC;AACpC,qDAAiE;AAEjE;;GAEG;AACH,SAAgB,uBAAuB,CAAC,MAAW,EAAE,YAA0B;IAE9E,IAAA,sCAAyB,EAAC,yBAAyB,EAAE,MAAM,EAAE,YAAY,CAAC,CAAC;IAE3E,OAAO,IAAA,wBAAgB,EAAC,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE;QAEzC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,OAAO,IAAI,KAAK,QAAQ,EAC5D;YACC,IAAI,CAAC,GAAG,IAAI,8BAAmB,EAAE,CAAC;YAElC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAEf,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAA;SACnB;QAED,OAAO,IAAI,CAAC;IACb,CAAC,CAAC,CAAC,MAAM,EAAE,YAAY,CAAC,CAAA;AACzB,CAAC;AAjBD,0DAiBC;AAED;;GAEG;AACH,SAAgB,cAAc,CAAC,MAAW,EAAE,YAA0B;IAErE,IAAA,sCAAyB,EAAC,gBAAgB,EAAE,MAAM,EAAE,YAAY,CAAC,CAAC;IAElE,IAAA,iBAAO,EAAC;QACP,cAAc,EAAE,mCAAmC;KACnD,CAAC,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;IAEzB,uBAAuB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;AAC/C,CAAC;AATD,wCASC;AAED,kBAAe,cAAc,CAAA","sourcesContent":["import { IPropertyKey } from 'reflect-metadata-util';\nimport { TransformRequest } from './config/index';\nimport LazyURLSearchParams from 'http-form-urlencoded';\nimport { Headers } from './headers';\nimport { checkMemberDecoratorsOnly } from '../helper/decorators';\n\n/**\n * 請將此 decorators 放在其他 TransformRequest 之前\n */\nexport function TransformFormUrlencoded(target: any, propertyName: IPropertyKey)\n{\n\tcheckMemberDecoratorsOnly(`TransformFormUrlencoded`, target, propertyName);\n\n\treturn TransformRequest((data, headers) =>\n\t{\n\t\tif (data && !Array.isArray(data) && typeof data === 'object')\n\t\t{\n\t\t\tlet u = new LazyURLSearchParams();\n\n\t\t\tu.extend(data);\n\n\t\t\treturn u.toString()\n\t\t}\n\n\t\treturn data;\n\t})(target, propertyName)\n}\n\n/**\n * 請將此 decorators 放在其他 TransformRequest 之前\n */\nexport function FormUrlencoded(target: any, propertyName: IPropertyKey)\n{\n\tcheckMemberDecoratorsOnly(`FormUrlencoded`, target, propertyName);\n\n\tHeaders({\n\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t})(target, propertyName);\n\n\tTransformFormUrlencoded(target, propertyName);\n}\n\nexport default FormUrlencoded\n"]}